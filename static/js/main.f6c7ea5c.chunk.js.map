{"version":3,"sources":["AppDispatcher.js","app/actions/ActionTypes.js","app/class/Emoji.js","app/Api.js","app/actions/EmojiActions.js","app/stores/EmojiStore.js","app/components/Filter.jsx","app/components/NotFound.jsx","app/components/Spinner.jsx","app/components/Emoji.jsx","app/components/Results.jsx","app/components/App.jsx","index.js"],"names":["Dispatcher","LOADED_EMOJI","Emoji","code","html_entity","image","name","unicode","this","json","map","entry","fetch","then","response","EmojiActions","loadedEmoji","fromJson","load","Api","emoji","AppDispatcher","dispatch","type","ActionTypes","value","search","SEARCH","results","hasResults","state","action","length","filter","toLowerCase","indexOf","ReduceStore","Filter","props","isSearching","onChangeHandler","bind","onChangeTimeout","e","targetValue","target","clearTimeout","setTimeout","setState","className","onChange","placeholder","Component","NotFound","src","alt","Spinner","isCopied","handleClickToCopy","textarea","document","createElement","innerText","textContent","getElementsByTagName","append","select","execCommand","classList","add","remove","err","console","error","copyToClipboard","item","relativeImage","onClick","dangerouslySetInnerHTML","__html","PropTypes","instanceOf","EmojiObject","isRequired","Results","key","renderItems","App","EmojiStore","getState","recursive","hasMore","prev","slice","onEmojiStoreHandler","listener","addListener","ReactDOM","render","getElementById","packageJson","version"],"mappings":"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","file":"static/js/main.f6c7ea5c.chunk.js","sourcesContent":["import { Dispatcher } from 'flux';\n\nexport default new Dispatcher();\n","export default {\n    LOADED_EMOJI: 'LOADED_EMOJI',\n};\n","\nexport default class Emoji {\n\n    constructor({ code, html_entity, image, name, unicode }) {\n        this.code = code;\n        this.html_entity = html_entity;\n        this.image = image;\n        this.name = name;\n        this.unicode = unicode;\n    }\n\n    get relativeImage() {\n        return `emoji/${this.name}.png`;\n    }\n\n    static fromJson(json) {\n        const emoji = json.map((entry) => {\n            return new this(entry);\n        });\n\n        return emoji;\n    }\n\n}\n","import EmojiActions from './actions/EmojiActions';\nimport Emoji from './class/Emoji';\n\nclass Api {\n\n    load() {\n        fetch('./emoji.json')\n            .then(function(response) {\n                return response.json();\n            })\n            .then(function(json) {\n                EmojiActions.loadedEmoji(Emoji.fromJson(json));\n            })\n        ;\n    }\n\n}\n\nexport default new Api();\n","import AppDispatcher from '../../AppDispatcher';\nimport ActionTypes from './ActionTypes';\nimport Api from '../Api';\n\nexport default {\n    load() {\n        Api.load();\n    },\n    loadedEmoji(emoji) {\n        AppDispatcher.dispatch({\n            type: ActionTypes.LOADED_EMOJI,\n            value: emoji,\n        });\n    },\n    search(name) {\n        AppDispatcher.dispatch({\n            type: ActionTypes.SEARCH,\n            value: name,\n        });\n    },\n};\n","import { ReduceStore } from 'flux/utils';\nimport AppDispatcher from '../../AppDispatcher';\nimport ActionTypes from '../actions/ActionTypes';\n\nclass EmojiStore extends ReduceStore {\n    constructor() {\n        super(AppDispatcher);\n        this.results = [];\n    }\n\n    getInitialState() {\n        return {\n            results: [],\n            hasResults: null,\n        };\n    }\n\n    reduce(state, action) {\n        switch (action.type) {\n            case ActionTypes.LOADED_EMOJI:\n                this.results = action.value;\n                return {\n                    hasResults: this.results.length > 0,\n                    results: this.results,\n                };\n            case ActionTypes.SEARCH:\n                return {\n                    hasResults: this.results.length > 0,\n                    results: this.results.filter((emoji) => {\n                        return emoji.name.toLowerCase().indexOf(action.value.toLowerCase()) >= 0;\n                    }),\n                };\n            default:\n                return state;\n        }\n    }\n}\n\nexport default new EmojiStore();\n","import React, { Component } from 'react';\n\nimport EmojiActions from '../actions/EmojiActions';\n\nimport './Filter.css';\n\nclass Filter extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            isSearching: false,\n        };\n\n        this.onChangeHandler = this.onChangeHandler.bind(this);\n        this.onChangeTimeout = null;\n    }\n\n    onChangeHandler(e) {\n        const targetValue = e.target.value;\n        clearTimeout(this.onChangeTimeout);\n        this.onChangeTimeout = setTimeout(() => {\n            EmojiActions.search(targetValue);\n        }, 500);\n\n        this.setState({\n            isSearching: targetValue.length > 0\n        });\n    }\n\n    render() {\n        return (\n            <div className=\"Filter\">\n                <div className=\"container\">\n                    <input className={this.state.isSearching ? 'is-searching' : ''} onChange={this.onChangeHandler} placeholder=\"Search Emoji ..\" type=\"text\" />\n                </div>\n            </div>\n        );\n    }\n\n}\n\nexport default Filter;\n","import React, { Component } from 'react';\n\nimport './Spinner.css';\n\nclass NotFound extends Component {\n\n    render() {\n        return (\n            <div className=\"Spinner\">\n                <img src=\"images/dizzy_face.png\" alt=\"no results\" />\n                <div className=\"text\">no results</div>\n            </div>\n        );\n    }\n\n}\n\nexport default NotFound;\n","import React, { Component } from 'react';\n\nimport './Spinner.css';\n\nclass Spinner extends Component {\n\n    render() {\n        return (\n            <div className=\"Spinner jump\">\n                <img src=\"images/smile.png\" alt=\"loading\" />\n                <div className=\"text\">loading</div>\n            </div>\n        );\n    }\n\n}\n\nexport default Spinner;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport EmojiObject from '../class/Emoji';\n\nimport './Emoji.css';\n\nclass Emoji extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            isCopied: false\n        };\n\n        this.handleClickToCopy = this.handleClickToCopy.bind(this);\n    }\n\n    static get propTypes() {\n        return {\n            item: PropTypes.instanceOf(EmojiObject).isRequired,\n        };\n    }\n\n    copyToClipboard(target) {\n        var textarea = document.createElement('textarea');\n        textarea.innerText = target.textContent;\n\n        document.getElementsByTagName('body')[0].append(textarea);\n        textarea.select();\n\n        try {\n            if (document.execCommand('copy')) {\n                target.classList.add('copied');\n            }\n\n            setTimeout(() => {\n                target.classList.remove('copied');\n            }, 2000);\n        } catch (err) {\n            console.error('Oops, unable to copy');\n        }\n\n        textarea.remove();\n    }\n\n    handleClickToCopy(e) {\n        this.copyToClipboard(e.target);\n    }\n\n    render() {\n        return (\n            <div className={`Emoji ${ this.state.isCopied ? 'copied' : '' }`}>\n                <div className=\"image\"><img src={this.props.item.relativeImage} alt={this.props.item.name} /></div>\n                <div className=\"name\">{this.props.item.code}</div>\n                <div className=\"details\">\n                    <div className=\"image\"><img src={this.props.item.relativeImage} alt={this.props.item.name} /></div>\n                    <div className=\"name\" onClick={this.handleClickToCopy}>{this.props.item.code}</div>\n                    <div className=\"name char\">\n                        <div onClick={this.handleClickToCopy} className=\"column column-left\" dangerouslySetInnerHTML={{ __html: this.props.item.html_entity }}></div>\n                        <div onClick={this.handleClickToCopy} className=\"column column-right\">{this.props.item.html_entity}</div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Emoji;\n","import React, { Component } from 'react';\n\nimport NotFound from './NotFound';\nimport Spinner from './Spinner';\nimport Emoji from './Emoji';\n\nimport './Results.css';\n\nclass Results extends Component {\n\n    renderItems(hasResults, results) {\n        if (hasResults === true && results.length === 0) {\n            return <NotFound />;\n        }\n\n        return results.length > 0 ? results.map((item, key) => (\n            <Emoji key={key} item={item} />\n        )) : <Spinner />;\n    }\n\n    render() {\n        const {hasResults, results} = this.props\n        return (\n            <div className=\"Results container\">\n                {this.renderItems(hasResults, results)}\n            </div>\n        );\n    }\n}\n\nexport default Results;\n","import React, { Component } from 'react';\n\nimport EmojiActions from '../actions/EmojiActions';\nimport EmojiStore from '../stores/EmojiStore';\n\nimport Filter from './Filter';\nimport Results from './Results';\n\nimport './App.css';\n\nclass App extends Component {\n\n    emoji = [];\n\n    state = {\n        emoji: EmojiStore.getState()\n    };\n\n    componentDidMount() {\n        EmojiActions.load();\n        this.listener = EmojiStore.addListener(this.onEmojiStoreHandler);\n    }\n\n    recursive = () => {\n        setTimeout(() => {\n            \n            let hasMore = this.state.emoji.results.length + 50 < this.emoji.results.length;\n            this.setState((prev, props) => ({\n                emoji: {\n                    ...prev.emoji,\n                    results: this.emoji.results.slice(0, prev.emoji.results.length + 50)\n                }\n            }));\n            if (hasMore) this.recursive();\n        }, 0);\n    }\n\n    componentWillUnmount() {\n        this.listener.remove();\n    }\n\n    onEmojiStoreHandler = () => {\n        // this.setState({\n        //     emoji: EmojiStore.getState()\n        // });\n        this.emoji = EmojiStore.getState();\n        this.recursive();\n    }\n\n    render() {\n        return (\n            <div className=\"App\">\n                <Filter {...this.state.emoji} />\n                <Results {...this.state.emoji} />\n            </div>\n        );\n    }\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app/components/App';\n// import registerServiceWorker from './registerServiceWorker';\n\nimport packageJson from '../package.json';\n\nimport './index.css';\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n);\n\nReactDOM.render(\n    (\n        <div>\n            v {packageJson.version}\n        </div>\n    ),\n    document.getElementById('version')\n);\n\n// registerServiceWorker();\n"],"sourceRoot":""}